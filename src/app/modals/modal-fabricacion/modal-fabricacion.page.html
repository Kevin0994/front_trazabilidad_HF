<ion-header>
  <ion-toolbar>
    <ion-title>Fabricacion</ion-title>
    <ion-buttons slot="primary" slot="start" >
      <ion-button (click)="closeModal()">
        <ion-icon name="arrow-back-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="container" >
    <form class="content-info" [formGroup]="formRegistro" (ngSubmit)="saveProfile()"  id="formFa">
      <ion-item>
        <ion-label position="floating">N° de proceso</ion-label>
        <ion-input formControlName="proceso" type="number"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Nombre</ion-label>
        <ion-input formControlName="nombre"></ion-input>
      </ion-item>
      <br>
      <ion-label position="floating" >Materia prima</ion-label>
      <div formArrayName="materiaPrimaForm">
          <ng-container *ngFor="let form  of MateriaPrima; let i=index;">
            <ion-item>
              <ion-label position="floating">{{form.nombre}}  </ion-label>
              <ion-input [formControlName]="i" type="number" [disabled]="true" placeholder="Ingresa un numero de presentacion"></ion-input>
            </ion-item>
          </ng-container>
      </div>
      <br>
      <div *ngIf="showFinal == true">
        <ion-item>
          <ion-label position="floating">Presentacion</ion-label>
          <ion-select formControlName="presentacion" placeholder="Seleccione una presentacion">
            <ion-select-option  *ngFor="let presentacion of Producto.presentacion"  [value]="presentacion">{{presentacion}}</ion-select-option>
          </ion-select>
        </ion-item>
        <br>
        <ion-item>
          <ion-label position="floating">N° de unidades</ion-label>
          <ion-input (ionChange)="handleChangeUnidades($event)" formControlName="unidades" type="number"></ion-input>
        </ion-item>
        <br>
        <ion-item >
          <ion-label position="floating">Peso final</ion-label>
          <ion-input formControlName="pesoFinal" [disabled]="true" type="number"></ion-input>
        </ion-item>
        <br>
      </div>
      <ion-button type="submit" expand="block" shape="round" >
        <ion-icon name="save"></ion-icon> Guardar
      </ion-button>
    </form>
    <ion-button type="submit"  expand="block" shape="round"(click)="closeModal()">
      <ion-icon name="close"></ion-icon> Cancelar
    </ion-button> 
  </div>
</ion-content>
